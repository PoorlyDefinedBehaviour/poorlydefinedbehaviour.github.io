<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Bloom filter |</title><meta name=keywords content><meta name=description content="What&rsquo;s a Bloom filter A bloom filter is a data-structure that can be used to check if a set contains an element. It uses way less memory than a conventional set data-structure by sacrificing accuracy.
Example Say we are building a log-structured merge-tree, we can use a bloom filter to find out if the LSM-tree contains a particular key in O(1) time in most cases, the downside is that sometimes the bloom filter would say that the LSM-tree contains a key, but it actually does not and we would go searching for the value that&rsquo;s mapped to the key and never actually find it."><meta name=author content="poorlydefinedbehaviour"><link rel=canonical href=https://poorlydefinedbehaviour.github.io/posts/bloom_filter/><link crossorigin=anonymous href=/assets/css/stylesheet.5cfc680b1eeaeef9efbced92d46c2a9e876b72ee14fba85846afc4cff9e6e6f8.css integrity="sha256-XPxoCx7q7vnvvO2S1Gwqnodrcu4U+6hYRq/Ez/nm5vg=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://poorlydefinedbehaviour.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://poorlydefinedbehaviour.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://poorlydefinedbehaviour.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://poorlydefinedbehaviour.github.io/apple-touch-icon.png><link rel=mask-icon href=https://poorlydefinedbehaviour.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Bloom filter"><meta property="og:description" content="What&rsquo;s a Bloom filter A bloom filter is a data-structure that can be used to check if a set contains an element. It uses way less memory than a conventional set data-structure by sacrificing accuracy.
Example Say we are building a log-structured merge-tree, we can use a bloom filter to find out if the LSM-tree contains a particular key in O(1) time in most cases, the downside is that sometimes the bloom filter would say that the LSM-tree contains a key, but it actually does not and we would go searching for the value that&rsquo;s mapped to the key and never actually find it."><meta property="og:type" content="article"><meta property="og:url" content="https://poorlydefinedbehaviour.github.io/posts/bloom_filter/"><meta property="og:image" content="https://poorlydefinedbehaviour.github.io/papermod-cover.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-03-03T20:56:31-03:00"><meta property="article:modified_time" content="2022-03-03T20:56:31-03:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://poorlydefinedbehaviour.github.io/papermod-cover.png"><meta name=twitter:title content="Bloom filter"><meta name=twitter:description content="What&rsquo;s a Bloom filter A bloom filter is a data-structure that can be used to check if a set contains an element. It uses way less memory than a conventional set data-structure by sacrificing accuracy.
Example Say we are building a log-structured merge-tree, we can use a bloom filter to find out if the LSM-tree contains a particular key in O(1) time in most cases, the downside is that sometimes the bloom filter would say that the LSM-tree contains a key, but it actually does not and we would go searching for the value that&rsquo;s mapped to the key and never actually find it."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://poorlydefinedbehaviour.github.io/posts/"},{"@type":"ListItem","position":3,"name":"Bloom filter","item":"https://poorlydefinedbehaviour.github.io/posts/bloom_filter/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Bloom filter","name":"Bloom filter","description":"What\u0026rsquo;s a Bloom filter A bloom filter is a data-structure that can be used to check if a set contains an element. It uses way less memory than a conventional set data-structure by sacrificing accuracy.\nExample Say we are building a log-structured merge-tree, we can use a bloom filter to find out if the LSM-tree contains a particular key in O(1) time in most cases, the downside is that sometimes the bloom filter would say that the LSM-tree contains a key, but it actually does not and we would go searching for the value that\u0026rsquo;s mapped to the key and never actually find it.","keywords":[],"articleBody":"What’s a Bloom filter A bloom filter is a data-structure that can be used to check if a set contains an element. It uses way less memory than a conventional set data-structure by sacrificing accuracy.\nExample Say we are building a log-structured merge-tree, we can use a bloom filter to find out if the LSM-tree contains a particular key in O(1) time in most cases, the downside is that sometimes the bloom filter would say that the LSM-tree contains a key, but it actually does not and we would go searching for the value that’s mapped to the key and never actually find it.\nIt is used in a lot of places.\nHow it works A bloom filter is just a bit-set that uses n deterministic hash functions to add elements to it.\nempty bit-set\nAdding elements to the set To add the key bob to the set, we run the key through each of the n hash functions and map the hash function output to one of the positions in the bit-set and for each position, we flip the bit to 1.\nbit-set after bob was added to the bloom filter Finding out if the set contains an element To find out if the set contains the key bob, we run the key through each of the n hash functions again – since the hash functions must be deterministic they will always map to the same position in the bit-set – and check if the bit is set to 1 for each of the bit-set positions we reached after running the key through the hash functions. If every hash function maps to a bit set to 1, it means the key is in the set.\nbob is in the set because every hash function mapped it to a bit set to 1 alice is not in the set because not every hash function mapped to a bit set to 1 False positives Since collisions can happen some keys will be mapped to bits that were set to 1 when other keys were added to the set. In this case, the bloom filter will say that it contains the key even though it does not.\nthe bit-set after bob was added to it since john maps to the same bits as bob and the bits were set to 1 after bob was added to the set, we got a false positive Removing an element from the set As it stands, removing an element from the set is not actually possible. If we had a bloom filter that uses 3 hash functions that looks like this after adding alice and bob to it:\nbloom filter after adding alice and bob to it with 3 hash functions Note that alice and bob hash to the same position in the bit-set for some of the hash functions\nbits shared between alice and bob are in white The naive solution is to remove alice from the bloom filter by setting the bits mapped by hashi(alice) to 0:\nbits that were flipped to 0 are in white Now, let’s check if alice is in the set, for a key to be in the set hashi(key) must map to bits set to 1\nhashi(alice) maps to bits set to 0 which means alice is not in the set alice is not in the set as expected. Let’s see if bob is still in the set, it should be since we didn’t remove it.\nnot every hashi(bob) maps to bits set to 1 which means bob is not in the set, bits set to 0 after removing alice from the set are in white bob is not in the set anymore, even though we didn’t remove it. The problem is that since keys may share the positions in the bit-set, we cannot just flip bits back to 0 to remove a key from the set because in doing so we may flip bits that are used by other keys.\nCounting bloom filter Since we cannot flip bits back to 0 to remove a key from the set, we could maintain a counter instead of a single bit. When a key is added to the set, the counter is incremented and when a key is removed from the set, the counter is decremented. If the counter reaches 0, it means no keys are mapped to the position.\nPositions that have more than one key mapped to it will have a counter greater than 1.\npositions in white are shared between two or more keys and have a counter greater than 1 removing alice from the set by decrementing the counters mapped by hashi(alice) After decrementing the counters, not every hashi(alice) maps to a counter greater than 0 which means alice is not in the set anymore. Unlike the bloom filter that uses only bits, hashi(bob) still maps to counters that are greater than 0 which means bob is still in the set.\nExample in Rust https://github.com/PoorlyDefinedBehaviour/bloom_filter/\nReferences Network Applications of Bloom Filters: A Survey - https://www.eecs.harvard.edu/~michaelm/postscripts/im2005b.pdf\nDesigning Data-Intensive Applications: The Big Ideas Behind Reliable, Scalable, and Maintainable Systems - Martin Kleppmann\n","wordCount":"853","inLanguage":"en","datePublished":"2022-03-03T20:56:31-03:00","dateModified":"2022-03-03T20:56:31-03:00","author":{"@type":"Person","name":"poorlydefinedbehaviour"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://poorlydefinedbehaviour.github.io/posts/bloom_filter/"},"publisher":{"@type":"Organization","name":"","logo":{"@type":"ImageObject","url":"https://poorlydefinedbehaviour.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://poorlydefinedbehaviour.github.io/archives title=Archive><span>Archive</span></a></li><li><a href=https://poorlydefinedbehaviour.github.io/ title=Home><span>Home</span></a></li><li><a href=https://poorlydefinedbehaviour.github.io/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://poorlydefinedbehaviour.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://poorlydefinedbehaviour.github.io>Home</a>&nbsp;»&nbsp;<a href=https://poorlydefinedbehaviour.github.io/posts/>Posts</a></div><h1 class=post-title>Bloom filter</h1><div class=post-meta><span title='2022-03-03 20:56:31 -0300 -0300'>March 3, 2022</span>&nbsp;·&nbsp;5 min&nbsp;·&nbsp;poorlydefinedbehaviour&nbsp;|&nbsp;<a href=https://github.com/PoorlyDefinedBehaviour/poorlydefinedbehaviour.github.io/tree/main/content/posts/bloom_filter.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#whats-a-bloom-filter aria-label="What&amp;rsquo;s a Bloom filter">What&rsquo;s a Bloom filter</a><ul><li><a href=#example aria-label=Example>Example</a></li></ul></li><li><a href=#how-it-works aria-label="How it works">How it works</a><ul><li><a href=#adding-elements-to-the-set aria-label="Adding elements to the set">Adding elements to the set</a></li><li><a href=#finding-out-if-the-set-contains-an-element aria-label="Finding out if the set contains an element">Finding out if the set contains an element</a></li><li><a href=#false-positives aria-label="False positives">False positives</a></li><li><a href=#removing-an-element-from-the-set aria-label="Removing an element from the set">Removing an element from the set</a></li><li><a href=#counting-bloom-filter aria-label="Counting bloom filter">Counting bloom filter</a></li><li><a href=#example-in-rust aria-label="Example in Rust">Example in Rust</a></li></ul></li><li><a href=#references aria-label=References>References</a></li></ul></div></details></div><div class=post-content><h1 id=whats-a-bloom-filter>What&rsquo;s a Bloom filter<a hidden class=anchor aria-hidden=true href=#whats-a-bloom-filter>#</a></h1><p>A bloom filter is a data-structure that can be used to check if a set contains an element. It uses way less memory than a <a href=https://en.wikipedia.org/wiki/Set_(abstract_data_type)#Implementations>conventional set data-structure</a> by sacrificing accuracy.</p><h2 id=example>Example<a hidden class=anchor aria-hidden=true href=#example>#</a></h2><p>Say we are building a <a href=https://www.cs.umb.edu/~poneil/lsmtree.pdf>log-structured merge-tree</a>, we can use a bloom filter to find out if the LSM-tree contains a particular key in O(1) time in most cases, the downside is that sometimes the bloom filter would say that the LSM-tree contains a key, but it actually does not and we would go searching for the value that&rsquo;s mapped to the key and never actually find it.</p><p>It is used in a lot of <a href=https://en.wikipedia.org/wiki/Bloom_filter#Examples>places</a>.</p><h1 id=how-it-works>How it works<a hidden class=anchor aria-hidden=true href=#how-it-works>#</a></h1><p>A bloom filter is just a <a href=https://en.wikipedia.org/wiki/Bit_array>bit-set</a> that uses <code>n</code> <a href=https://en.wikipedia.org/wiki/Hash_function#Deterministic>deterministic hash functions</a> to add elements to it.</p><p align=center><img src=https://user-images.githubusercontent.com/17282221/156580660-d95e19fa-8d63-40e3-9fda-fc27f3eea311.png></p><p align=center><i>empty bit-set</i></p><h2 id=adding-elements-to-the-set>Adding elements to the set<a hidden class=anchor aria-hidden=true href=#adding-elements-to-the-set>#</a></h2><p>To add the key <code>bob</code> to the set, we run the key through each of the <code>n</code> hash functions and map the hash function output to one of the positions in the bit-set and for each position, we flip the bit to <code>1</code>.</p><p align=center><img src=https://user-images.githubusercontent.com/17282221/156581183-7a853828-d0fc-4024-b3d0-22fe9cbbdbe6.png></p><p align=center><i>bit-set after bob was added to the bloom filter</i></p><h2 id=finding-out-if-the-set-contains-an-element>Finding out if the set contains an element<a hidden class=anchor aria-hidden=true href=#finding-out-if-the-set-contains-an-element>#</a></h2><p>To find out if the set contains the key <code>bob</code>, we run the key through each of the <code>n</code> hash functions again &ndash; since the hash functions must be deterministic they will <strong>always</strong> map to the same position in the bit-set &ndash; and check if the bit is set to <code>1</code> for each of the bit-set positions we reached after running the key through the hash functions. If every hash function maps to a bit set to <code>1</code>, it means the key is in the set.</p><p align=center><img src=https://user-images.githubusercontent.com/17282221/156583072-424f00f0-3eda-48ad-96c7-5a460beca424.png></p><p align=center><i>bob is in the set because every hash function mapped it to a bit set to 1</i></p><p align=center><img src=https://user-images.githubusercontent.com/17282221/156583592-e96d831c-21be-420a-ae10-2dde7f8a0cfe.png></p><p align=center><i>alice is not in the set because not every hash function mapped to a bit set to 1</i></p><h2 id=false-positives>False positives<a hidden class=anchor aria-hidden=true href=#false-positives>#</a></h2><p>Since <a href=https://en.wikipedia.org/wiki/Hash_collision>collisions</a> can happen some keys will be mapped to bits that were set to <code>1</code> when other keys were added to the set. In this case, the bloom filter will say that it contains the key even though it does not.</p><p align=center><img src=https://user-images.githubusercontent.com/17282221/156584354-9b605741-0c11-4e1c-bf01-e9e5b61453d4.png></p><p align=center><i>the bit-set after bob was added to it</i></p><p align=center><img src=https://user-images.githubusercontent.com/17282221/156584791-cbde88f8-c13b-40e8-b568-e21cc3b82c86.png></p><p align=center><i>since john maps to the same bits as bob and the bits were set to 1 after bob was added to the set, we got a false positive</i></p><h2 id=removing-an-element-from-the-set>Removing an element from the set<a hidden class=anchor aria-hidden=true href=#removing-an-element-from-the-set>#</a></h2><p>As it stands, removing an element from the set is not actually possible. If we had a bloom filter that uses 3 hash functions that looks like this after adding <code>alice</code> and <code>bob</code> to it:</p><p align=center><img src=https://user-images.githubusercontent.com/17282221/156785419-e7501222-9e4f-4a59-959c-5940c3e892d8.png></p><p align=center><i>bloom filter after adding alice and bob to it with 3 hash functions</i></p><p>Note that <code>alice</code> and <code>bob</code> hash to the same position in the bit-set for some of the hash functions</p><p align=center><img src=https://user-images.githubusercontent.com/17282221/156785275-dc3016f2-211a-4b17-ac7e-4c74ca8c93ae.png></p><p align=center><i>bits shared between alice and bob are in white</i></p><p>The naive solution is to remove <code>alice</code> from the bloom filter by setting the bits mapped by hash<sub>i</sub>(alice) to <code>0</code>:</p><p align=center><img src=https://user-images.githubusercontent.com/17282221/156785668-069767c2-f08e-4c72-a8c0-476bef9b92be.png></p><p align=center><i>bits that were flipped to 0 are in white</i></p><p>Now, let&rsquo;s check if <code>alice</code> is in the set, for a key to be in the set hash<sub>i</sub>(key) must map to bits set to <code>1</code></p><p align=center><img src=https://user-images.githubusercontent.com/17282221/156786462-6413cea3-c222-422e-b4fb-fbddcc8ce0c6.png><p><p align=center><i>hash<sub>i</sub>(alice) maps to bits set to 0 which means alice is not in the set</i></p><p><code>alice</code> is not in the set as expected. Let&rsquo;s see if <code>bob</code> is still in the set, it should be since we didn&rsquo;t remove it.</p><p align=center><img src=https://user-images.githubusercontent.com/17282221/156786853-65f9841c-a8f6-41be-a024-2492aca321e9.png></p><p align=center><i>not every hash<sub>i</sub>(bob) maps to bits set to 1 which means bob is not in the set, bits set to 0 after removing alice from the set are in white</i></p><p><code>bob</code> is not in the set anymore, even though we didn&rsquo;t remove it. The problem is that since keys may share the positions in the bit-set, we cannot just flip bits back to <code>0</code> to remove a key from the set because in doing so we may flip bits that are used by other keys.</p><h2 id=counting-bloom-filter>Counting bloom filter<a hidden class=anchor aria-hidden=true href=#counting-bloom-filter>#</a></h2><p>Since we cannot flip bits back to <code>0</code> to remove a key from the set, we could maintain a counter instead of a single bit. When a key is added to the set, the counter is incremented and when a key is removed from the set, the counter is decremented. If the counter reaches 0, it means no keys are mapped to the position.</p><p>Positions that have more than one key mapped to it will have a counter greater than <code>1</code>.</p><p align=center><img src=https://user-images.githubusercontent.com/17282221/156789341-ecabd5c1-fdb5-4343-8622-685684cca910.png></p><p align=center><i>positions in white are shared between two or more keys and have a counter greater than 1</i></p><p align=center><img src=https://user-images.githubusercontent.com/17282221/156789826-1b0bd61c-69ef-4da7-8918-65d3bae15a4b.png></p><p align=center><i>removing alice from the set by decrementing the counters mapped by hash<sub>i</sub>(alice)</i></p><p>After decrementing the counters, not every hash<sub>i</sub>(alice) maps to a counter greater than <code>0</code> which means <code>alice</code> is not in the set anymore. Unlike the bloom filter that uses only bits, hash<sub>i</sub>(bob) still maps to counters that are greater than <code>0</code> which means <code>bob</code> is still in the set.</p><h2 id=example-in-rust>Example in Rust<a hidden class=anchor aria-hidden=true href=#example-in-rust>#</a></h2><p><a href=https://github.com/PoorlyDefinedBehaviour/bloom_filter/>https://github.com/PoorlyDefinedBehaviour/bloom_filter/</a></p><h1 id=references>References<a hidden class=anchor aria-hidden=true href=#references>#</a></h1><p>Network Applications of Bloom Filters: A Survey - <a href=https://www.eecs.harvard.edu/~michaelm/postscripts/im2005b.pdf>https://www.eecs.harvard.edu/~michaelm/postscripts/im2005b.pdf</a><br>Designing Data-Intensive Applications: The Big Ideas Behind Reliable, Scalable, and Maintainable Systems - Martin Kleppmann</p></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=prev href=https://poorlydefinedbehaviour.github.io/posts/raft_notes/><span class=title>« Prev</span><br><span>Notes taken from the Raft paper</span></a></nav><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share Bloom filter on twitter" href="https://twitter.com/intent/tweet/?text=Bloom%20filter&amp;url=https%3a%2f%2fpoorlydefinedbehaviour.github.io%2fposts%2fbloom_filter%2f&amp;hashtags="><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Bloom filter on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fpoorlydefinedbehaviour.github.io%2fposts%2fbloom_filter%2f&amp;title=Bloom%20filter&amp;summary=Bloom%20filter&amp;source=https%3a%2f%2fpoorlydefinedbehaviour.github.io%2fposts%2fbloom_filter%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Bloom filter on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fpoorlydefinedbehaviour.github.io%2fposts%2fbloom_filter%2f&title=Bloom%20filter"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Bloom filter on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fpoorlydefinedbehaviour.github.io%2fposts%2fbloom_filter%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Bloom filter on whatsapp" href="https://api.whatsapp.com/send?text=Bloom%20filter%20-%20https%3a%2f%2fpoorlydefinedbehaviour.github.io%2fposts%2fbloom_filter%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Bloom filter on telegram" href="https://telegram.me/share/url?text=Bloom%20filter&amp;url=https%3a%2f%2fpoorlydefinedbehaviour.github.io%2fposts%2fbloom_filter%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Bloom filter on ycombinator" href="https://news.ycombinator.com/submitlink?t=Bloom%20filter&u=https%3a%2f%2fpoorlydefinedbehaviour.github.io%2fposts%2fbloom_filter%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></div></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://poorlydefinedbehaviour.github.io></a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>